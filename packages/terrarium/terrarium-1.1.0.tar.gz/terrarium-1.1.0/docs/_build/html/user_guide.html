

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>User Guide &mdash; Terrarium 1.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Development" href="development.html" />
    <link rel="prev" title="Quick Start" href="quickstart.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Terrarium
          

          
          </a>

          
            
            
              <div class="version">
                1.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-new-environment">Creating a new environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#replacing-an-existing-environment">Replacing an existing environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#saving-and-using-environment-archives">Saving and using environment archives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#storing-terrarium-environments-locally">Storing terrarium environments locally</a></li>
<li class="toctree-l3"><a class="reference internal" href="#storing-terrarium-environments-on-cloud-storage-services-s3-gcs">Storing terrarium environments on Cloud Storage Services (S3, GCS)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#amazon-s3">Amazon S3</a></li>
<li class="toctree-l4"><a class="reference internal" href="#google-cloud-storage">Google Cloud Storage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tips">Tips</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-an-alternative-index-server">Using an alternative index server</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Terrarium</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>User Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/user_guide.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="user-guide">
<h1>User Guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h1>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">terrarium [options] COMMAND [requirements files...]</span>
</pre></div>
</div>
<p>See <code class="docutils literal notranslate"><span class="pre">terrarium</span> <span class="pre">--help</span></code> for a complete list of options and commands.</p>
<div class="section" id="creating-a-new-environment">
<h2>Creating a new environment<a class="headerlink" href="#creating-a-new-environment" title="Permalink to this headline">¶</a></h2>
<p>The following example will create a new virtual environment named <code class="docutils literal notranslate"><span class="pre">env</span></code> that
includes the packages defined in <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code></p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> terrarium --target env install requirements.txt
</pre></div>
</div>
</div>
<div class="section" id="replacing-an-existing-environment">
<h2>Replacing an existing environment<a class="headerlink" href="#replacing-an-existing-environment" title="Permalink to this headline">¶</a></h2>
<p>The following example demonstrates how terrarium can be used to replace an
existing activated virtual environment with a different set of packages.</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> terrarium --target env install requirements.txt
<span class="gp">$</span> <span class="nb">source</span> env/bin/activate
<span class="gp">$</span> terrarium install other_requirements.txt
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The environment that was replaced is renamed to <code class="docutils literal notranslate"><span class="pre">env.bak</span></code>,
and can be restored using <code class="docutils literal notranslate"><span class="pre">terrarium</span> <span class="pre">revert</span></code>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">After installing the <code class="docutils literal notranslate"><span class="pre">other_requirements</span></code>,
it is not necessary to run <code class="docutils literal notranslate"><span class="pre">deactivate</span></code>
or <code class="docutils literal notranslate"><span class="pre">activate</span></code>
to begin using the new environment.</p>
</div>
</div>
<div class="section" id="saving-and-using-environment-archives">
<h2>Saving and using environment archives<a class="headerlink" href="#saving-and-using-environment-archives" title="Permalink to this headline">¶</a></h2>
<p>Terrarium provides options for archiving and compressing
a freshly installed
and built environment,
either locally or remotely (via Amazon S3).</p>
<p>When these options are used,
terrarium will first check if the environment has already been saved.
In that case,
terrarium will download the environment archive instead of downloading
and building each individual package specified in the requirements files.</p>
<div class="section" id="storing-terrarium-environments-locally">
<h3>Storing terrarium environments locally<a class="headerlink" href="#storing-terrarium-environments-locally" title="Permalink to this headline">¶</a></h3>
<p>Storing terrarium environments locally (or on a shared network disk)
can be achieved using the <code class="docutils literal notranslate"><span class="pre">--storage-dir</span></code> option.</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> terrarium --target env --storage-dir path/to/environments install requirements.txt
</pre></div>
</div>
<p>After building a fresh environment from the requirements in <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code>,
terrarium will archive and compress the environment.
Finally,
the compressed version is then copied to the path specified by <code class="docutils literal notranslate"><span class="pre">--storage-dir</span></code>.</p>
</div>
<div class="section" id="storing-terrarium-environments-on-cloud-storage-services-s3-gcs">
<h3>Storing terrarium environments on Cloud Storage Services (S3, GCS)<a class="headerlink" href="#storing-terrarium-environments-on-cloud-storage-services-s3-gcs" title="Permalink to this headline">¶</a></h3>
<p>Terrarium also supports storing and retrieving archives stored on these storage services:</p>
<blockquote>
<div><ul class="simple">
<li>Amazon Web Service - S3</li>
<li>Google Cloud Platform - Google Cloud Storage</li>
</ul>
</div></blockquote>
<div class="section" id="amazon-s3">
<h4>Amazon S3<a class="headerlink" href="#amazon-s3" title="Permalink to this headline">¶</a></h4>
<p>The following options are only available if <code class="docutils literal notranslate"><span class="pre">boto</span></code> is installed.</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">--s3-bucket</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">--s3-access-key</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">--s3-secret-key</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">--s3-max-retries</span></code></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="google-cloud-storage">
<h4>Google Cloud Storage<a class="headerlink" href="#google-cloud-storage" title="Permalink to this headline">¶</a></h4>
<p>The following options are only available if <code class="docutils literal notranslate"><span class="pre">gcloud</span></code> is installed.</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">--gcs-bucket</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">--gcs-client-email</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">--gcs-secret-key</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">--gcs-max-retries</span></code></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Each of the above options can be specified using environment variables,
e.g. <code class="docutils literal notranslate"><span class="pre">S3_BUCKET</span></code>, <code class="docutils literal notranslate"><span class="pre">GCS_BUCKET</span></code>
instead of being passed in as a parameter.</p>
</div>
</div>
</div>
</div>
<div class="section" id="tips">
<h2>Tips<a class="headerlink" href="#tips" title="Permalink to this headline">¶</a></h2>
<div class="section" id="using-an-alternative-index-server">
<h3>Using an alternative index server<a class="headerlink" href="#using-an-alternative-index-server" title="Permalink to this headline">¶</a></h3>
<p>If you’re using an index server other than PyPI
(perhaps an index server with internal-only packages),
then you need to be able to tell terrarium to use that index URL.
Terrarium does not have the
<code class="docutils literal notranslate"><span class="pre">-i</span></code> (<code class="docutils literal notranslate"><span class="pre">--index-url</span></code>)
option that pip has,
so how do you indicate the index URL?
Well, you may recall that pip requirements files can also contain command-line options…
So add a line like this to one of your requirements files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">index</span><span class="o">-</span><span class="n">url</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">internal</span><span class="o">-</span><span class="n">index</span><span class="o">-</span><span class="n">server</span><span class="o">.</span><span class="n">corp</span><span class="o">/</span><span class="n">index</span>
</pre></div>
</div>
<p>You can add a line like the above to
an existing requirements file
that has a list of packages
or you could add it to
a separate requirements file
and then add that to the terrarium command-line.</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> terrarium --target testenv install internal-index-server.txt requirements.txt
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="development.html" class="btn btn-neutral float-right" title="Development" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="quickstart.html" class="btn btn-neutral" title="Quick Start" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Kyle Gibson, Wes Winham.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>