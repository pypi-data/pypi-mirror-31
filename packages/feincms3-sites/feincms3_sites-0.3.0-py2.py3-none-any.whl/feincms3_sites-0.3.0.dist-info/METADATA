Metadata-Version: 2.0
Name: feincms3-sites
Version: 0.3.0
Summary: Multisite support for feincms3
Home-page: https://github.com/matthiask/feincms3-sites/
Author: Matthias Kestenholz
Author-email: mk@feinheit.ch
License: BSD License
Description-Content-Type: UNKNOWN
Platform: OS Independent
Classifier: Environment :: Web Environment
Classifier: Framework :: Django
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: BSD License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.4
Classifier: Programming Language :: Python :: 3.5
Classifier: Topic :: Internet :: WWW/HTTP :: Dynamic Content
Classifier: Topic :: Software Development
Classifier: Topic :: Software Development :: Libraries :: Application Frameworks
Requires-Dist: feincms3 (>=0.21.2)

==============
feincms3-sites
==============

.. image:: https://travis-ci.org/matthiask/feincms3-sites.svg?branch=master
   :target: https://travis-ci.org/matthiask/feincms3-sites

Multisite support for `feincms3 <https://feincms3.readthedocs.io>`_.

This app allows running a feincms3 site on several domains, with
separate page trees etc. on each (if so desired).

The default behavior allows to match a single host. The advanced options
fieldset in the administration panel allows specifying your own regex,
which is matched against the host. There can be at most one default
site.


Installation and usage
======================

- ``pip install feincms3-sites``
- Add ``feincms3_sites`` to ``INSTALLED_APPS`` and run ``./manage.py
  migrate``
- Your page model should extend ``feincms3_sites.models.AbstractPage``
  instead of ``feincms3.pages.AbstractPage``. The only difference is
  that our ``AbstractPage`` has an additional ``site`` foreign key, and
  path uniqueness is enforced per-site.
- If you're using feincms3 apps currently, replace
  ``feincms3.apps.apps_middleware`` with
  ``feincms3_sites.middleware.apps_middleware`` in your ``MIDDLEWARE``.
  Otherwise, you may want to add
  ``feincms3_sites.middleware.site_middleware`` near the top.
- Uses of ``apps_urlconf()`` in your own code (improbable!) have to be
  replaced by ``feincms3_sites.middleware.apps_urlconf_for_site(site)``.
- ``Page.objects.active()`` does not automatically filter by site,
  you'll have to do this yourself in your views code, navigation
  template tags etc. The site instance (if any could be found) is always
  available as ``request.site``.
- If you want to automatically redirect requests to the current site,
  insert ``feincms3_sites.middleware.redirect_to_site_middleware`` after
  one of the other middleware referenced above. You may also set
  ``SecurityMiddleware``'s ``SECURE_SSL_REDIRECT = True`` to enforce
  SSL. In this case, insert ``redirect_to_site_middleware`` before the
  ``SecurityMiddleware``.


